{"version":3,"file":"static/js/40.b14fad5d.chunk.js","mappings":"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","sources":["components/commentsection/CommentSection.js"],"sourcesContent":["import React, { useState, useMemo } from \"react\";\nimport axios from \"axios\";\nimport Rating from \"react-rating-stars-component\";\nimport { BsSendFill } from \"react-icons/bs\";\nimport { useUserContext } from '../../contexts/UserContext';\nimport useCloudinary from '../../hooks/useCloudinary';\nimport {\n  SectionContainer,\n  SectionBg,\n  SectionWrapper,\n  FlexibleLayout,\n  TextWrapper,\n  ImgWrap,\n  Button,\n  BtnWrap,\n  FormWrap,\n  TextArea,\n  StyledImage,\n  StyledText\n} from \"../StyledComponents.js\";\n\nconst CommentSection = React.memo(({ currentUser }) => {\n  const { dispatch, setErrorMessage, clearErrorMessage, setSuccessMessage, clearSuccessMessage } = useUserContext();\n\n  const [rating, setRating] = useState(0);\n  const [comment, setComment] = useState(\"\");\n\n  const cloudinaryInstance = useCloudinary();\n  \n  const desktopUrl = useMemo(() => {\n    return cloudinaryInstance.image(\"COMMENTBG_2_mctqkg\").toURL({\n      transformation: [\n        { width: 1920, crop: \"scale\" },\n        { quality: \"auto:good\" },\n        { fetch_format: \"auto\" },\n      ],\n    });\n  }, [cloudinaryInstance]);\n\n  const contentImageUrl = useMemo(() => {\n    return cloudinaryInstance.image(\"bam_ctu4i6\").toURL({\n      transformation: [\n        { width: 455, height: 455, crop: \"fill\" },\n        { quality: \"auto\" },\n        { fetch_format: \"auto\" },\n      ],\n    });\n  }, [cloudinaryInstance]);\n\n  const handleRatingChange = (newRating) => setRating(newRating);\n  const handleCommentChange = (event) => setComment(event.target.value);\n\n  const handleCommentSubmit = async (event) => {\n    event.preventDefault();\n    if (!currentUser) {\n      dispatch(setErrorMessage(\"Login required to leave a comment or rate. Please log in to continue.\"));\n      return;\n    }\n    try {\n      await axios.post(\"/api/comment-rating\", { comment, rating }, { withCredentials: true });\n      setRating(0);\n      setComment(\"\");\n      dispatch(setSuccessMessage(\"Comment/rating submitted successfully!\"));\n      setTimeout(() => {\n        dispatch(clearSuccessMessage()); // Clear success message after some time\n      }, 3000); // Adjust the timeout as needed\n    } catch (error) {\n      console.error(\"Failed to submit comment and rating\", error);\n      dispatch(setErrorMessage(\"Error submitting comment or rating. Please try again later or contact support for assistance.\"));\n      setTimeout(() => {\n        dispatch(clearErrorMessage());\n      }, 3000);\n    }\n  };  \n  \n  return (\n    <SectionContainer id=\"comments\">\n      <SectionBg>\n        <StyledImage\n          src={desktopUrl}\n          alt=\"Crescent Moon\"\n          position=\"absolute\"\n          width=\"100%\"\n          height=\"auto\"\n          objectFit=\"contain\"\n          top={0}\n          left={0}\n          loading=\"lazy\"\n        />\n      </SectionBg>\n      <SectionWrapper style={{ zIndex: \"20\" }} onSubmit={handleCommentSubmit}>\n        <FlexibleLayout $reverse={false}>\n          <ImgWrap>\n            <StyledImage\n              src={contentImageUrl}\n              alt=\"Artist Looking Up At Camera\"\n              position=\"relative\"\n              width=\"455px\"\n              height=\"auto\"\n              borderRadius=\"10px\"\n              border=\"2px solid #ac94f4\"\n              zIndex=\"10\"\n              loading=\"lazy\"\n            />\n          </ImgWrap>\n          <TextWrapper className=\"mt-10\">\n            <StyledText\n              as=\"p\"\n              color=\"#fff\"\n              fontSize=\"20px\"\n              fontWeight=\"700\"\n              textTransform=\"uppercase\"\n              marginBottom=\"16px\"\n              letterSpacing=\"1.4px\"\n            >\n              Bam Fans\n            </StyledText>\n            <StyledText\n              as=\"h1\"\n              color=\"#ac94f4\"\n              fontSize=\"44px\"\n              fontWeight=\"600\"\n              marginBottom=\"24px\"\n              tabletFontSize=\"40px\"\n              phoneFontSize=\"32px\"\n            >\n              Before you go...\n            </StyledText>\n            <StyledText\n              fontSize=\"20px\"\n              lineHeight=\"26px\"\n              color=\"#fff\"\n              marginTop=\"30px\"\n              marginBottom=\"25px\"\n              maxWidth=\"440px\"\n              phoneFontSize=\"18px\"\n            >\n              Tell Bam what you loved most about your galaxy tour and rate your adventure! Thanks for stopping by.\n            </StyledText>\n            <FormWrap onSubmit={handleCommentSubmit}>\n              <Rating\n                value={rating}\n                onChange={handleRatingChange} // Bind the handler here\n              />\n              <TextArea\n                placeholder=\"Leave your comment here\"\n                value={comment}\n                onChange={handleCommentChange}\n              />\n              <BtnWrap>\n                <Button\n                  className=\"inline-flex items-center rounded-full bg-primary border border-[#010606] whitespace-nowrap px-10 py-4\"\n                  type=\"submit\"\n                >\n                  <span>Send</span>\n                  {<BsSendFill size={20} className=\"ml-2\" />}\n                </Button>\n              </BtnWrap>\n            </FormWrap>\n          </TextWrapper>\n        </FlexibleLayout>\n      </SectionWrapper>\n    </SectionContainer>\n  );\n});\n\nexport default CommentSection;\n"],"names":["React","_ref","currentUser","dispatch","setErrorMessage","clearErrorMessage","setSuccessMessage","clearSuccessMessage","useUserContext","rating","setRating","useState","comment","setComment","cloudinaryInstance","useCloudinary","desktopUrl","useMemo","image","toURL","transformation","width","crop","quality","fetch_format","contentImageUrl","height","handleCommentSubmit","async","event","preventDefault","axios","post","withCredentials","setTimeout","error","console","_jsxs","SectionContainer","id","children","_jsx","SectionBg","StyledImage","src","alt","position","objectFit","top","left","loading","SectionWrapper","style","zIndex","onSubmit","FlexibleLayout","$reverse","ImgWrap","borderRadius","border","TextWrapper","className","StyledText","as","color","fontSize","fontWeight","textTransform","marginBottom","letterSpacing","tabletFontSize","phoneFontSize","lineHeight","marginTop","maxWidth","FormWrap","Rating","value","onChange","newRating","TextArea","placeholder","target","BtnWrap","Button","type","BsSendFill","size"],"sourceRoot":""}